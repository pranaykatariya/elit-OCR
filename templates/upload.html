<!DOCTYPE html>
<html>
 <head>
   <title>Upload Image</title>
   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
   <style>
     .file {
  visibility: hidden;
  position: absolute;
}
   </style>
 </head>
 <body>





   {% if msg %}
   <h1>{{ msg }}</h1>
   {% endif %}

   <div class="container">
     <div class="jumbotron">
       <div class="text-center">
        <h1>Upload new File</h1>
       </div>
     </div>
   </div>
   

   <!-- <form method=post enctype=multipart/form-data>
     <p><input type=file name=file>
       <input type=submit value=Upload>
   </form> -->

   
  


   <div class="container flex">
    <div class="jumbotron >
      <div class="ml-2 col-sm-12">
        <div id="msg"></div>
        <h4 class="text-center my-4">Image Preview here</h4>
        <div class="text-center">
          <div class="ml-2 col-sm-11">
            <img  id="preview" class="img-thumbnail my-4 text-cente">
          </div>
        </div>
      
        <form method="post" id="image-form" enctype=multipart/form-data>
          <input type="file" name="file" class="file" accept="image/*">
          <div class="input-group my-3">
            <input type="text" class="form-control" disabled placeholder="Upload Image here" id="file">
            <div class="input-group-append">
              <button type="button" class="browse btn btn-primary">BROWSE</button>
            </div>
            <input type=submit class=" btn btn-success btn-block mt-2" value=Upload>
          </div>
        </form>
      </div>
      
      
   {% if img_src %}
     <img src="{{ img_src }}">
   {% endif %}

      {% if extracted_text %}
      <p> The extracted text from the image above is: <b> {{ extracted_text }} </b></p>
 
    {% else %}
      The extracted text will be displayed here
    {% endif %}

    </div>
   </div>


  

   <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
   <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
   <script>
     $(document).on("click", ".browse", function() {
  var file = $(this).parents().find(".file");
  file.trigger("click");
});
$('input[type="file"]').change(function(e) {
  var fileName = e.target.files[0].name;
  $("#file").val(fileName);

  var reader = new FileReader();
  reader.onload = function(e) {
    // get loaded data and render thumbnail.
    document.getElementById("preview").src = e.target.result;
  };
  // read the image file as a data URL.
  reader.readAsDataURL(this.files[0]);
});


   </script>
 </body>
</html>